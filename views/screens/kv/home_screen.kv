#:import md_icons kivymd.icon_definitions.md_icons

<HomeScreen>:
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: utils.get_color_from_hex(CARD_COLOR)
            Rectangle:
                pos: self.pos
                size: self.size
                
        # Header with profile button
        BoxLayout:
            size_hint_y: 0.08
            padding: dp(10)
            
            Widget:
                size_hint_x: 0.1
            
            HeaderLabel:
                text: 'MediScan'
                font_size: sp(20)
                size_hint_x: 0.8
                halign: 'center'
            
            MDIconButton:
                icon: "account-circle"
                theme_text_color: "Primary"
                size_hint_x: 0.1
                on_release: app.root.current = 'profile'

        BoxLayout:
            orientation: 'vertical'
            padding: dp(20)
            spacing: dp(20)
            size_hint_y: 0.82

            HeaderLabel:
                text: 'Welcome to MediScan'
                font_size: sp(28)
                opacity: 0
                on_parent: Animation(opacity=1, duration=0.5).start(self)

            SubtitleLabel:
                text: 'Your health companion'
                halign: 'center'
                opacity: 0
                on_parent: Animation(opacity=1, duration=0.5).start(self)

            Widget:
                size_hint_y: 0.3

            PrimaryButton:
                text: 'Start Scanning'
                pos_hint: {'center_x': 0.5}
                opacity: 0
                on_parent: Animation(opacity=1, duration=0.5).start(self)
                on_press: app.root.current = 'scan'

            Widget:
                size_hint_y: 0.3

        NavigationBar: 